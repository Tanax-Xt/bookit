# В данном файле представлены отчеты о покрытии бэкенда тестами.

Тесты запускаются в докере для полной изоляции.

В проекте есть два вида тестов: unit-тесты и e2e-тесты

## Unit-тесты

Они проверяют основной функционал сервисов с замокаными данными. Чтобы запустить контейнер с unit-тестами, выполните
следующую команду:

```bash
docker compose --profile unit-test up --build --abort-on-container-exit
```

Для удаления контейнеров с тестами используйте:

```bash
docker compose --profile test down -v
```

Покрытие Unit-тестами:

<img src="unit-tests.png">

## e2e-тесты

e2e-тесты проверяют пользовательские пути, уже без замоканых данных и по созданию запросов к REST API. Они покрывают
основные пользовательские пути: создание, получение, редактирование, удаление разных сущностей. Причём
каждый блок тестов начинается с нуля, как если бы в это время регистрировался новый пользователь. Тесты покрывают модули
с авторизацией, учётными записями, местами и бронированиями.

Запросы посылаются с использованием `fastapi.TestClient`.

Для запуска контейнера с e2e тестами выполните следующую команду:

```bash
docker compose --profile test up --build --abort-on-container-exit
```

Для удаления контейнеров с тестами используйте:

```bash
docker compose --profile test down -v
```

Покрытие E2E-тестами:

<img src="e2e-tests.png">